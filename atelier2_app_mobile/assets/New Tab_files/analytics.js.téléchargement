!function i(o,r,c){function s(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,i,o,r,c)}return r[t].exports}for(var a="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,a,i){"use strict";var l=e("js-cookie"),t=e("./helpers/url"),u=t.getQuery,h=t.getMainPage,t=e("./helpers/tracking"),p=t.trackId,r=t.trackStructured,f=t.trackSelfDescribing,d=t.trackPageView,g=t.enableFormTracking,t=e("./helpers/events"),o=t.on,m=t.onUnload,n=t.onUrlContains,k=t.onUrlDoesNotContain,c=t.onEvent,_=t.onPresent,b=t.isNewTab,v=t.isSearchIndex,y=t.isSearchVertical,w="ECED",x={"ad-impressions":e("./trackers/ad-impressions.js"),business_listings:e("./trackers/business_listings.js"),captcha:e("./trackers/captcha.js"),"extension-pages":e("./trackers/extension-pages.js"),flight:e("./trackers/flight.js"),gca:e("./trackers/gca.js"),hotel:e("./trackers/hotel.js"),images:e("./trackers/images.js"),index:e("./trackers/index.js"),jobs_widget:e("./trackers/jobs_widget.js"),login_beta:e("./trackers/login_beta.js"),map:e("./trackers/map.js"),maps:e("./trackers/maps.js"),"new-indexpage":e("./trackers/new-indexpage.js"),newtab:e("./trackers/newtab.js"),notifications:e("./trackers/notifications.js"),"privacy-choice":e("./trackers/privacy-choice.js"),privacy:e("./trackers/privacy.js"),reactivation:e("./trackers/reactivation.js"),search_results:e("./trackers/search_results.js"),shopping:e("./trackers/shopping.js"),weather_widget:e("./trackers/weather_widget.js")};function j(i){o('[data-track-id="maps_'.concat(i,'"]'),"click",function(e,t,n){n=n.querySelector("a"),n=n?n.href:"";r("maps","dropdown",i,n)})}function s(e){o('[data-track-id="nav_'.concat(e,'"]'),"click",{once:!0},function(){r("navbar","click",e)})}function S(t){o('[data-track-id="more'.concat(t,'"]'),"click",{once:!0},function(e){r("navbar-more","click",t,u(e.url).q)})}Object.keys(x).forEach(function(t){var n=x[t];Object.keys(n).forEach(function(e){i["".concat(t,"_").concat(e)]=n[e]})}),i.trackUninstall=function(){n(".ecosia.org/uninstall",".ecosia.org/uninstall",function(e){var t=u(e.url),n=t.hints||"false";f({schema:"iglu:org.ecosia/uninstall_event/jsonschema/1-0-2",data:{plt_name:t.addon,plt_v:t.addonversion,shopping_hints_visible:n}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg}].filter(function(e){return null!==e.data}))},{once:!0})},i.trackInstall=function(){n(".ecosia.org/firstrun",".ecosia.org/firstrun","firstrun=true",function(t){var e=u(t.url),n=l.get(w);if(n){n=window.atob(n);try{var i=JSON.parse(n);Object.keys(i).forEach(function(e){t.abExperiments[e]=i[e]})}catch(e){console.warn("ECED cookie value is not an object!")}l.remove(w,{domain:".ecosia.org"})}f({schema:"iglu:org.ecosia/install_event/jsonschema/1-0-0",data:{plt_name:e.addon,plt_v:e.addonversion}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:t.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:t.abExperiments}}].filter(function(e){return null!==e.data}))},{once:!0})},i.trackLoginForm=function(){n("dashboard.ecosia.org/login/",function(){g({forms:{blacklist:[]},fields:{blacklist:["password"]}})})},i.trackUninstallandSettingForms=function(){n(".ecosia.org/uninstall",".ecosia.org/settings",function(){g({forms:{blacklist:["search-form"]},fields:{blacklist:["uninstall_email","q"]}})})},i.trackBlog=function(){n("blog.ecosia.org",function(e){window.snowplow_ecosia("enableActivityTracking",5,10),d([{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg}].filter(function(e){return null!==e.data}))})},i.trackSwitchBack=function(){n(".ecosia.org/search",function(o){setTimeout(function(){var e="visible"===document.visibilityState,t=window.location.search,n=t.includes("addon=chrome"),t=t.includes("method=topbar"),i=document.hasFocus();e&&n&&t&&!i&&r("google_switch_back","display","popup","",0,[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:o.ecfg}])},0)})},i.trackPageLoad=function(){k(".ecosia.org/search",".ecosia.org/images",".ecosia.org/news",".ecosia.org/videos",".ecosia.org/shopping","blog.ecosia.org",function(e){d([{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}].filter(function(e){return null!==e.data}))})},i.trackSearch=function(){n(".ecosia.org/search",".ecosia.org/images",".ecosia.org/news",".ecosia.org/videos",".ecosia.org/maps",".ecosia.org/shopping",function(e){var t=u(e.url),n=document.querySelectorAll(p("entity")),i=document.querySelectorAll(p("hotel-popup")),o=document.querySelectorAll(p("flight-widget")),r=document.querySelectorAll(p("maps_map_snippet")),c=document.querySelectorAll(p("green-domain")),s=document.querySelectorAll(p("coal-domain")),a=document.querySelectorAll(p("entity_map")),l=document.querySelectorAll(p("entity_climate"));f({schema:"iglu:org.ecosia/search_event/jsonschema/1-0-10",data:{query:t.q,ads_shown:e.advertShown,comp_shown:e.computationShown,page_num:parseInt(t.p,10),plt_name:t.addon,plt_v:t.addonversion,search_type:e.urlPath,entity_shown:0<n.length,hotel_shown:0<i.length,flights_shown:0<o.length,map_snippet_shown:0<r.length,green_domains_shown:0<c.length,coal_domains_shown:0<s.length,entity_map_shown:0<a.length,entity_climate_shown:0<l.length,product_ads_shown:e.productAds.count}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg},{schema:"iglu:org.ecosia/ad_context/jsonschema/2-0-1",data:e.ads},{schema:"iglu:org.ecosia/slottings_context/jsonschema/1-0-0",data:{slottings:e.slottings}},{schema:"iglu:org.ecosia/knowledge_context/jsonschema/1-0-0",data:e.entities},{schema:"iglu:org.ecosia/weather_context/jsonschema/1-0-0",data:e.weatherLocation},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}].filter(function(e){return null!==e.data}))})},i.trackCtaClicked=function(){o(p("serp_install_cta"),"click",function(e){window.snowplow_ecosia("trackStructEvent","install_cta","clicked","serp_main","serp","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])})},i.trackCtaPresent=function(){_(p("serp_install_cta"),function(e){window.snowplow_ecosia("trackStructEvent","install_cta","display","serp_main","serp","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])})},i.trackCtaCloseClicked=function(){o(p("serp_install_cta_close"),"click",function(e){window.snowplow_ecosia("trackStructEvent","install_cta","dismiss","install","serp","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])})},i.trackAdblockUnlockImpression=function(){c("search_adblocknotice_impression",function(e,t){t&&"string"==typeof t?r("ad_blocking","impression","whitelist_modal",t):r("ad_blocking","impression","whitelist_modal")})},i.trackTripadvisorOpeningHours=function(){c("search_tripadvisor_opening_hours",function(e,t){t&&"string"==typeof t&&r("business_listing","click","opening_hours",t)})},i.trackChromeMigrationModal=function(){c("search_migrationnotice_impression",function(e){e=u(e.url);r("migration","impression",e.addonversion)})},i.trackCtaClick=function(){o(".js-install-button","click",function(){k(".ecosia.org/privacy",function(){r("install_cta","click","install","info")}),n(".ecosia.org/privacy",function(){r("install_cta","click","install","privacy_page")})}),o(".install-funnel-box-button","click",function(){r("install_cta","click","install","index")})},i.trackMobileText=function(){c("infopages_mobile_submission",function(e,t){t.success?r("mobile_landing","submit","success"):r("mobile_landing","submit","failure")})},i.trackWidgetFeedback=function(){c("widget_feedback_submission",function(e,t){f({schema:"iglu:org.ecosia/widget_feedback_event/jsonschema/1-0-0",data:{widget_type:t.widget_type,answer:t.answer,query:t.query,market:t.market}})})},i.trackAddOnInstall=function(){c("addon_install",function(e,t){n(".ecosia.org",function(){f({schema:"iglu:org.ecosia/install_event/jsonschema/1-0-0",data:{plt_name:t.addon,plt_v:t.version}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}].filter(function(e){return null!==e.data}))})})},i.trackMapLinkClick=function(){j("ecosia"),j("bing"),j("treeday"),j("google")},i.trackNavBarLinkClick=function(){s("videos"),s("images"),s("news"),s("maps"),s("more"),s("filters"),s("settings"),s("shopping")},i.trackNavBarMoreLinkClick=function(){S("wikipedia"),S("amazon"),S("youtube"),S("google"),S("ecosia-hotel-links")},i.trackMenuLinks=function(){o(p("menu"),"click",function(e,t,n){var i,o=e.url,e=e.urlPath;if("/"===e)i="index";else if("/search"===e)i="serp";else if(-1!==o.indexOf("https://info.ecosia.org/"))i="info";else{if(!b(window.location.href))return;i="new_tab"}r("menu_link","click",n.href,i)})},i.trackFooterLinks=function(){n("info.ecosia.org/","info.dev.ecosia.org",function(){o(p("footer"),"click",function(e,t,n){r("footer_link","click",n.href,"info")})})},i.trackProductAds=function(){_(p("pa-merchant-badge"),function(e){r("productads","merchantbadge",u(e.url).q,e.ecfg.market)})},i.trackEntity=function(){_(p("entity"),function(e,t){var n=t.dataset.trackName||"undefined",t=t.dataset.trackTypeHints||"undefined";r("entity",n,t,u(e.url).q)})},i.bounceMainPages=function(){k(".ecosia.org/uninstall",".ecosia.org/settings",".ecosia.org/firstrun",".ecosia.org/login",function(){m(function(e,t){var n=h(e.urlPath,e.url);"info"===n||"index"===n||"blog"===n?t<5e3&&r(n,"bounce",5e3,e.urlPath,t):t<2e3&&r(n,"bounce",2e3,e.urlPath,t)})})},i.trackNPSSubmission=function(){c("search_nps_submission",function(e,t){r("net_promoter_score","click","serp",t.comment,t.score)})},i.trackNPSDismiss=function(){c("search_nps_dismiss",function(e,t){r("net_promoter_score","dismiss","serp","nps_popup",t.lastSubmitted)})},i.trackNPSOpen=function(){c("search_nps_open",function(){r("net_promoter_score","click","serp","nps_popup")})},i.trackNPSImpression=function(){c("search_nps_impression",function(){r("net_promoter_score","impression","serp","nps_popup")})},i.trackCookieNotice=function(){var t,e=window.location.href,n=v(e),e=y(e);(n||e)&&(t=n?"index":"serp",_(p("cookie_consent"),function(e){r("cookie_consent","display","consent_display",t,"0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),o(p("cookie_consent_accept"),"click",function(e){r("cookie_consent","click","consent_accept",t,"0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),o(p("cookie_consent_reject"),"click",function(e){r("cookie_consent","click","consent_reject",t,"0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}))}},{"./helpers/events":10,"./helpers/tracking":15,"./helpers/url":16,"./trackers/ad-impressions.js":26,"./trackers/business_listings.js":27,"./trackers/captcha.js":28,"./trackers/extension-pages.js":29,"./trackers/flight.js":30,"./trackers/gca.js":31,"./trackers/hotel.js":32,"./trackers/images.js":33,"./trackers/index.js":34,"./trackers/jobs_widget.js":35,"./trackers/login_beta.js":36,"./trackers/map.js":37,"./trackers/maps.js":38,"./trackers/new-indexpage.js":39,"./trackers/newtab.js":40,"./trackers/notifications.js":41,"./trackers/privacy-choice.js":42,"./trackers/privacy.js":43,"./trackers/reactivation.js":44,"./trackers/search_results.js":45,"./trackers/shopping.js":46,"./trackers/weather_widget.js":47,"js-cookie":19}],2:[function(e,t,n){t.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_analytics_development",collectorUrl:"org-ecosia-prod1.mini.snplow.net",cookieName:"ecosia_sp2"}},{}],3:[function(e,t,n){t.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_eco",collectorUrl:"sp.ecosia.org",cookieName:"ecosia_sp2"}},{}],4:[function(e,t,n){t.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_analytics_staging",collectorUrl:"org-ecosia-prod1.mini.snplow.net",cookieName:"ecosia_sp2"}},{}],5:[function(e,t,n){t.exports={snowplowUrl:"https://ps.ecosia.org/FVh3ot2zPwDMi43LjI.js",trackerName:"sp_analytics_testing",collectorUrl:"org-ecosia-prod1.mini.snplow.net",cookieName:"ecosia_sp2"}},{}],6:[function(e,t,n){"use strict";var o=e("./tracking").trackId;n.getExperiments=function(){var n=document.querySelector(o("goodall"));if(!n)return{};var i={};return Object.keys(n.dataset).forEach(function(e){var t;e.startsWith("exp")&&(t=e.replace(/^exp/,"").toLowerCase(),i[t]=n.dataset[e])}),i}},{"./tracking":15}],7:[function(e,t,n){"use strict";function i(e){return Array.prototype.map.call(document.querySelectorAll(e)||[],function(e){return e.dataset.displayUrl})}n.adsContext=function(){var t={sidebar:i(".js-sidebar-ad"),mainline:i('.js-ad[data-position="mainline"]'),bottom:i('.js-ad[data-position="bottom"]')};return Object.keys(t).some(function(e){return t[e].length})?t:null},n.productAdsContext=function(){return{count:(document.querySelectorAll('[data-track-id="product-ad"]')||[]).length}}},{}],8:[function(e,t,n){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(){if(document.currentScript)return document.currentScript.src;var e=document.querySelectorAll('script[src*="'.concat("ecosia.org",'"]'));return(e=o(Array.prototype.filter.call(e||[],function(e){return-1!==e.src.indexOf("analytics.js")}),1)[0])?e.src:""}function s(e){return(e=e.match(/\?(.+)$/))&&e.length?i({},a.parse(e[1])):{}}var a=e("querystring");n.getSelf=c,n.getQueryParameters=s;n.getBuildEnv=function(){return s(c()).buildEnvironment||"production"}},{querystring:23}],9:[function(e,t,u){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=e("js-cookie"),c=e("./numbers").safeParseInt,n=/:cid=.*?$/,p=/cid=.*?:/;function s(){var n={};return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split(":").forEach(function(e){var e=r(e.split("="),2),t=e[0],e=e[1];t&&(n[t]=e)}),n}function a(e){return e&&e.replace(p,"").replace(n,"")}function l(i){var o={};return[["language","l",!1],["devicetype","dt",!1],["trees","t",!0],["market","mc",!1],["autosuggest","as",!0],["custom","cs",!0],["lasttree","lt",!0],["firstsearch","fs",!0],["firstrun","fr",!0],["addon","a",!0],["typetag","tt",!1],["personal","pz",!0],["adult","f",!1],["notification","nf",!0],["newtab","nt",!0],["country","c",!1]].forEach(function(e){var e=r(e,3),t=e[0],n=e[1],e=e[2],n=void 0===(n=i[n])?null:n;e&&(n=c(n)),o[t]=n}),o}t.exports={cookieContext:function(){var e=o.get("ECFG"),t=o.get("__tt");if(!e&&!t)return null;var n=l(s(e));return n.typetag=t||n.typetag,n.lasttree=0===n.lasttree?null:n.lasttree,n.ecfgcookie=a(e),n},mapCookie:l,parseCookie:s,cleanCookieString:a,getSearchRequestId:function(){return o.get("ECRQ")}}},{"./numbers":12,"js-cookie":19}],10:[function(e,u,p){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function h(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var i=e("url"),f=e("./cookies").cookieContext,n=e("./ads"),d=n.adsContext,g=n.productAdsContext,m=e("./message-bus"),n=e("./searchstate"),k=n.advertLookup,_=n.computationLookup,b=e("./abtests").getExperiments,v=e("./tracking").trackId,o=5;function c(){var e=(window.ecosia&&window.ecosia.entities?window.ecosia.entities.slice(0,o).map(function(e){return{name:e.name,typehint:e.entityPresentationInfo&&e.entityPresentationInfo.entityTypeHints?e.entityPresentationInfo.entityTypeHints:[],entity_population:Object.keys(e)}}):null)||Array.from(document.querySelectorAll(v("entity"))).slice(0,o).map(function(e){var e=e.dataset,t=e.trackName,e=e.trackTypeHints;return{name:t,typehint:e?e.split(","):[],entity_population:[]}});return e&&0!==e.length?s({},e):null}function a(){return{ads:d(),productAds:g(),abExperiments:b(),ecfg:f(),entities:c(),url:window.location.href,urlPath:window.location.pathname.replace(/^\//,""),advertShown:k(),computationShown:_(),slottings:window.ecosia&&window.ecosia.slottings?window.ecosia.slottings:null,weatherLocation:window.ecosia&&window.ecosia.weatherLocation?window.ecosia.weatherLocation:null}}function l(e,t){for(var n=t;!n.matches(e)&&!n.matches("body");)n=n.parentElement;return n.matches(e)?n:null}function y(e,t){var n=h({existing:!0,onceOnly:!0},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});document.arrive(e,n,function(){t(a(),this)})}function w(e){var e=i.parse(e),t=e.hostname,e=e.pathname;return null!==t&&null!==e&&(-1===t.indexOf("info")&&-1!==t.indexOf("ecosia")&&(""===e||"/"===e))}function x(e){var e=i.parse(e),t=e.protocol,e=e.pathname;if(null===t||null===e)return!1;t=-1!==t.indexOf("extension"),e=-1!==e.indexOf("newtab");return t&&e}function j(t,e){for(var n,i,o=arguments.length,r=new Array(2<o?o-2:0),c=2;c<o;c++)r[c-2]=arguments[c];var s=e;this.pause=function(){window.clearTimeout(n),s-=Date.now()-i},this.resume=function(){var e;i=Date.now(),window.clearTimeout(n),n=(e=window).setTimeout.apply(e,[t,s].concat(r))},this.resume()}var S=0;u.exports={after:function(e,t){var n=new j(t,e,a());document.addEventListener("visibilitychange",function(){document.hidden?n.pause():n.resume()},!1)},assembleEntities:c,findClosest:l,isSearchIndex:w,isSearchVertical:function(e){var t=(e=i.parse(e)).hostname,n=e.pathname;return null!==t&&null!==n&&(e=-1===t.indexOf("info")&&-1!==t.indexOf("ecosia"),t=["search","images","news","videos","maps","shopping"].some(function(e){return n.includes(e)}),e&&t)},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.pop(),o=t[0],r=t[1],c=t[2];document.addEventListener(r,function(e){var t=o.split(",").map(function(e){return"".concat(e," *")}).join(",");e.target.matches("".concat(o,", ").concat(t))&&i(a(),e,l(o,e.target))},s({once:!1},void 0===c?{}:c))},onBounce:function(e,t){var n;document.addEventListener("visibilitychange",function(){document.hidden?n=Date.now():n&&Date.now()-n<=e&&t(a())},!1)},onEvent:function(e,t){m.register(e,function(e){t(a(),e)})},onIndexPage:function(e){w(window.location.href)&&e(a())},onLoad:function(e){e(a())},onUnload:function(e){var t,n=Date.now();document.addEventListener("visibilitychange",function(){document.hidden?t=Date.now():S+=Date.now()-t}),window.addEventListener("beforeunload",function(){e(a(),Date.now()-n-S)})},onScrollTo:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.5,i=document.querySelector(e);i&&new IntersectionObserver(function(e,t){e[0].isIntersecting&&(n(a(),i),t.unobserve(i))},{threshold:t}).observe(i)},onPresent:y,onPresentAndVisible:function(e,o){y(e,function(e,t){var n=window.getComputedStyle(t,null),i=n.visibility,n=n.opacity;t.offsetWidth&&parseInt(n,10)&&"hidden"!==i&&o(e,t)})},onUrlContains:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.pop(),o={};"object"===r(i)&&(o=i,i=t.pop()),o.once&&performance.navigation.type===performance.navigation.TYPE_RELOAD||t.some(function(e){return-1!==window.location.href.indexOf(e)})&&i(a())},onUrlDoesNotContain:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.pop();t.every(function(e){return-1===window.location.href.indexOf(e)})&&i(a())},isNewTab:x,onNewTab:function(e){x(window.location.href)&&e(a())},onExtension:function(e){var t=(n=i.parse(window.location.href)).protocol,n=n.pathname;null!==t&&null!==n&&-1!==t.indexOf("extension")&&e(a())}}},{"./abtests":6,"./ads":7,"./cookies":9,"./message-bus":11,"./searchstate":14,"./tracking":15,url:24}],11:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.listeners={}}var t,n,i;return t=e,(n=[{key:"push",value:function(e){var t=e.name,e=e.payload,n=void 0===e?{}:e;(this.listeners[t]||[]).forEach(function(e){e(n)})}},{key:"register",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.exports=new i,t.exports.MessageBus=i},{}],12:[function(e,t,n){"use strict";t.exports.safeParseInt=function(e){return(e=parseInt(e,10))!=e?null:e}},{}],13:[function(e,t,n){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector)},{}],14:[function(e,t,n){"use strict";t.exports={advertLookup:function(){return document.querySelector("div.js-ad")?document.querySelector("div.js-ad").offsetWidth?"ad_displayed":"ad_blocked":"no_adverts"},computationLookup:function(){return document.querySelector(".widget-static")?"static":document.querySelector(".widget-timezone")?"timezone":"no_widget"}}},{}],15:[function(e,t,n){"use strict";e("arrive");var s={development:e("../config/development.json"),production:e("../config/production.json"),staging:e("../config/staging.json"),testing:e("../config/testing.json")};var i={contains:"*=",endsWith:"$=",equals:"=",startsWith:"^="};t.exports={loadSnowplow:function(e){var t,n,i,o,r,c=!("test"===e||"ci"===e||"dev"===e);"test"!==e&&"ci"!==e?(e=s[e],t=window,r=document,n=e.snowplowUrl,t[i="snowplow_ecosia"]||(t.GlobalSnowplowNamespace=t.GlobalSnowplowNamespace||[],t.GlobalSnowplowNamespace.push(i),t[i]=function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].q=t[i].q||[],o=r.createElement("script"),r=r.getElementsByTagName("script")[0],o.async=1,o.src=n,r.parentNode.insertBefore(o,r)),window.snowplow_ecosia("newTracker",e.trackerName,e.collectorUrl,{platform:"web",post:!0,cookieDomain:".ecosia.org",cookieName:e.cookieName,forceSecureTracker:c,userFingerprint:!1,respectDoNotTrack:!0,contexts:{webPage:!0}})):window.snowplow_ecosia=Function.prototype},trackId:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"equals",n=Object.keys(i);return n.includes(t)?"[data-track-id".concat(i[t],'"').concat(e,'"]'):new Error("onTrackId condition ".concat(t," is not one of: ").concat(n.join(", ")))},trackStructured:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=window).snowplow_ecosia.apply(e,["trackStructEvent"].concat(n))},trackSelfDescribing:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=window).snowplow_ecosia.apply(e,["trackSelfDescribingEvent"].concat(n))},trackPageView:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=window).snowplow_ecosia.apply(e,["trackPageView",null].concat(n))},enableFormTracking:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=window).snowplow_ecosia.apply(e,["enableFormTracking"].concat(n))},enablePagePings:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=window).snowplow_ecosia.apply(e,["enableActivityTracking"].concat(n))}}},{"../config/development.json":2,"../config/production.json":3,"../config/staging.json":4,"../config/testing.json":5,arrive:18}],16:[function(e,t,n){"use strict";var i=e("url");n.getQuery=function(e){return i.parse(e,!0).query},n.getMainPage=function(e,t){return t?-1!==t.indexOf("https://info.ecosia.org/")?"info":-1!==t.indexOf("https://blog.ecosia.org/")?"blog":""===e?"index":-1!==t.indexOf("https://ecosia.org/")?"main-search":"":""}},{url:24}],17:[function(e,t,n){"use strict";var i=e("./helpers/tracking").loadSnowplow,o=e("./helpers/build-env").getBuildEnv,r=e("./helpers/message-bus"),c=e("./analytics"),e=(e("./helpers/polyfill-matches"),i(o()),Object.keys(c).forEach(function(e){e=c[e];"function"==typeof e&&e()}),window.messageBus||[]);window.messageBus=r,e.forEach(function(e){r.push(e)})},{"./analytics":1,"./helpers/build-env":8,"./helpers/message-bus":11,"./helpers/polyfill-matches":13,"./helpers/tracking":15}],18:[function(e,t,n){!function(l,e,u){"use strict";var s,p,a,h,t,n,c;if(l.MutationObserver&&"undefined"!=typeof HTMLElement)s=0,a=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,p={matchesSelector:function(e,t){return e instanceof HTMLElement&&a.call(e,t)},addMethod:function(e,t,n){var i=e[t];e[t]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof i?i.apply(this,arguments):void 0}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,i=0;n=e[i];i++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,n,i){for(var o,r=0;o=e[r];r++)n(o,t,i)&&i.push({callback:t.callback,elem:o}),0<o.childNodes.length&&p.checkChildNodesRecursively(o.childNodes,t,n,i)},mergeArrays:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},toElementsArray:function(e){return e=void 0===e||"number"==typeof e.length&&e!==l?e:[e]}},i.prototype.addEvent=function(e,t,n,i){e={target:e,selector:t,options:n,callback:i,firedElems:[]};return this._beforeAdding&&this._beforeAdding(e),this._eventsBucket.push(e),e},i.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)e(t)&&(this._beforeRemoving&&this._beforeRemoving(t),(t=this._eventsBucket.splice(n,1))&&t.length&&(t[0].callback=null))},i.prototype.beforeAdding=function(e){this._beforeAdding=e},i.prototype.beforeRemoving=function(e){this._beforeRemoving=e},h=i,t=function(o,r){var c=new h,s=this,a={fireOnAttributesModification:!1};return c.beforeAdding(function(t){var e,n=t.target,i=(n!==l.document&&n!==l||(n=document.getElementsByTagName("html")[0]),e=new MutationObserver(function(e){r.call(this,e,t)}),o(t.options));e.observe(n,i),t.observer=e,t.me=s}),c.beforeRemoving(function(e){e.observer.disconnect()}),this.bindEvent=function(e,t,n){t=p.mergeArrays(a,t);for(var i=p.toElementsArray(this),o=0;o<i.length;o++)c.addEvent(i[o],e,t,n)},this.unbindEvent=function(){var n=p.toElementsArray(this);c.removeEvent(function(e){for(var t=0;t<n.length;t++)if(this===u||e.target===n[t])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(n){var i=p.toElementsArray(this),o=n,e="function"==typeof n?function(e){for(var t=0;t<i.length;t++)if((this===u||e.target===i[t])&&e.callback===o)return!0;return!1}:function(e){for(var t=0;t<i.length;t++)if((this===u||e.target===i[t])&&e.selector===n)return!0;return!1};c.removeEvent(e)},this.unbindEventWithSelectorAndCallback=function(n,i){var o=p.toElementsArray(this);c.removeEvent(function(e){for(var t=0;t<o.length;t++)if((this===u||e.target===o[t])&&e.selector===n&&e.callback===i)return!0;return!1})},this},n=new function(){var a={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function r(e,t,n){return!(!p.matchesSelector(e,t.selector)||(e._id===u&&(e._id=s++),-1!=t.firedElems.indexOf(e._id)))&&(t.firedElems.push(e._id),!0)}var l=(n=new t(function(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t},function(e,o){e.forEach(function(e){var t=e.addedNodes,n=e.target,i=[];null!==t&&0<t.length?p.checkChildNodesRecursively(t,o,r,i):"attributes"===e.type&&r(n,o)&&i.push({callback:o.callback,elem:n}),p.callCallbacks(i,o)})})).bindEvent;return n.bindEvent=function(e,t,n){t=void 0===n?(n=t,a):p.mergeArrays(a,t);var i=p.toElementsArray(this);if(t.existing){for(var o=[],r=0;r<i.length;r++)for(var c=i[r].querySelectorAll(e),s=0;s<c.length;s++)o.push({callback:n,elem:c[s]});if(t.onceOnly&&o.length)return n.call(o[0].elem,o[0].elem);setTimeout(p.callCallbacks,1,o)}l.call(this,e,t,n)},n},c=new function(){var i={};function o(e,t){return p.matchesSelector(e,t.selector)}var r=(c=new t(function(){return{childList:!0,subtree:!0}},function(e,n){e.forEach(function(e){var e=e.removedNodes,t=[];null!==e&&0<e.length&&p.checkChildNodesRecursively(e,n,o,t),p.callCallbacks(t,n)})})).bindEvent;return c.bindEvent=function(e,t,n){t=void 0===n?(n=t,i):p.mergeArrays(i,t),r.call(this,e,t,n)},c},e&&r(e.fn),r(HTMLElement.prototype),r(NodeList.prototype),r(HTMLCollection.prototype),r(HTMLDocument.prototype),r(Window.prototype),e={},o(n,e,"unbindAllArrive"),o(c,e,"unbindAllLeave");function i(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null}function o(e,t,n){p.addMethod(t,n,e.unbindEvent),p.addMethod(t,n,e.unbindEventWithSelectorOrCallback),p.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function r(e){e.arrive=n.bindEvent,o(n,e,"unbindArrive"),e.leave=c.bindEvent,o(c,e,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0)},{}],19:[function(e,t,n){var i,o,r,c;i=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(a){function c(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=s({path:"/"},c.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=a.write?a.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o,r="";for(o in n)n[o]&&(r+="; "+o,!0!==n[o]&&(r+="="+n[o].split(";")[0]));return document.cookie=e+"="+t+r}}function t(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var r=i[o].split("="),c=r.slice(1).join("=");t||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var s=l(r[0]),c=(a.read||a)(c,s)||l(c);if(t)try{c=JSON.parse(c)}catch(e){}if(n[s]=c,e===s)break}catch(e){}}return e?n[e]:n}}return c.set=n,c.get=function(e){return t(e,!1)},c.getJSON=function(e){return t(e,!0)},c.remove=function(e,t){n(e,"",s(t,{expires:-1}))},c.defaults={},c.withConverter=e,c}(function(){})},"function"==typeof define&&define.amd&&(define(i),o=!0),"object"==typeof n&&(t.exports=i(),o=!0),o||(r=window.Cookies,(c=window.Cookies=i()).noConflict=function(){return window.Cookies=r,c})},{}],20:[function(e,A,C){!function(O){!function(){var o=this,e="object"==typeof C&&C&&!C.nodeType&&C,r="object"==typeof A&&A&&!A.nodeType&&A,t="object"==typeof O&&O;t.global!==t&&t.window!==t&&t.self!==t||(o=t);var n,i,m=2147483647,k=36,_=26,c=38,s=700,a=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=k-1,b=Math.floor,v=String.fromCharCode;function y(e){throw new RangeError(p[e])}function f(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function d(e,t){var n=e.split("@"),i="",n=(1<n.length&&(i=n[0]+"@",e=n[1]),(e=e.replace(u,".")).split("."));return i+f(n,t).join(".")}function w(e){for(var t,n,i=[],o=0,r=e.length;o<r;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<r?56320==(64512&(n=e.charCodeAt(o++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--):i.push(t);return i}function g(e){return f(e,function(e){var t="";return 65535<e&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=v(e)}).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var i=0;for(e=n?b(e/s):e>>1,e+=b(e/t);h*_>>1<e;i+=k)e=b(e/h);return b(i+(h+1)*e/(e+c))}function S(e){var t,n,i,u,o,r,c,s=[],p=e.length,a=0,h=128,f=72,l=e.lastIndexOf("-");for(l<0&&(l=0),n=0;n<l;++n)128<=e.charCodeAt(n)&&y("not-basic"),s.push(e.charCodeAt(n));for(i=0<l?l+1:0;i<p;){for(u=a,o=1,r=k;p<=i&&y("invalid-input"),c=e.charCodeAt(i++),(k<=(c=c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:k)||c>b((m-a)/o))&&y("overflow"),a+=c*o,!(c<(c=r<=f?1:f+_<=r?_:r-f));r+=k)o>b(m/(c=k-c))&&y("overflow"),o*=c;f=j(a-u,t=s.length+1,0==u),b(a/t)>m-h&&y("overflow"),h+=b(a/t),a%=t,s.splice(a++,0,h)}return g(s)}function E(e){for(var t,n,u,i,o,p,r,h,c,f,s=[],d=(e=w(e)).length,a=128,g=72,l=t=0;l<d;++l)(r=e[l])<128&&s.push(v(r));for(n=u=s.length,u&&s.push("-");n<d;){for(i=m,l=0;l<d;++l)a<=(r=e[l])&&r<i&&(i=r);for(i-a>b((m-t)/(h=n+1))&&y("overflow"),t+=(i-a)*h,a=i,l=0;l<d;++l)if((r=e[l])<a&&++t>m&&y("overflow"),r==a){for(o=t,p=k;!(o<(c=p<=g?1:g+_<=p?_:p-g));p+=k)s.push(v(x(c+(f=o-c)%(c=k-c),0))),o=b(f/c);s.push(v(x(o,0))),g=j(t,h,n==u),t=0,++n}++t,++a}return s.join("")}if(n={version:"1.4.1",ucs2:{decode:w,encode:g},decode:S,encode:E,toASCII:function(e){return d(e,function(e){return l.test(e)?"xn--"+E(e):e})},toUnicode:function(e){return d(e,function(e){return a.test(e)?S(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return n});else if(e&&r)if(A.exports==e)r.exports=n;else for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);else o.punycode=n}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var u=/\+/g,t=(e=e.split(t=t||"&"),1e3),r=(i&&"number"==typeof i.maxKeys&&(t=i.maxKeys),e.length);0<t&&t<r&&(r=t);for(var c=0;c<r;++c){var s,a=e[c].replace(u,"%20"),l=a.indexOf(n),l=0<=l?(s=a.substr(0,l),a.substr(l+1)):(s=a,""),a=decodeURIComponent(s),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(o,a)?p(o[a])?o[a].push(l):o[a]=[o[a],l]:o[a]=l}return o};var p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],22:[function(e,t,n){"use strict";function r(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,i,o,e){return i=i||"&",o=o||"=","object"==typeof(n=null===n?void 0:n)?s(a(n),function(e){var t=encodeURIComponent(r(e))+o;return c(n[e])?s(n[e],function(e){return t+encodeURIComponent(r(e))}).join(i):t+encodeURIComponent(r(n[e]))}).join(i):e?encodeURIComponent(r(e))+o+encodeURIComponent(r(n)):""};var c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}},{}],23:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":21,"./encode":22}],24:[function(e,i,t){"use strict";var C=e("punycode"),x=e("./util");function y(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=n,t.resolve=function(e,t){return n(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},t.format=function(e){x.isString(e)&&(e=n(e));return e instanceof y?e.format():y.prototype.format.call(e)},t.Url=y;var I=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,q=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),j=["'"].concat(t),S=["%","/","?",";","#"].concat(j),P=["/","?","#"],N=/^[+a-z0-9A-Z_-]{0,63}$/,U=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=e("querystring");function n(e,t,n){if(e&&x.isObject(e)&&e instanceof y)return e;var i=new y;return i.parse(e,t,n),i}y.prototype.parse=function(e,u,t){if(!x.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),n=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(n);i[0]=i[0].replace(/\\/g,"/");var o=(o=e=i.join(n)).trim();if(!t&&1===e.split("#").length){i=q.exec(o);if(i)return this.path=o,this.href=o,this.pathname=i[1],i[2]?(this.search=i[2],this.query=u?A.parse(this.search.substr(1)):this.search.substr(1)):u&&(this.search="",this.query={}),this}var p,n=I.exec(o);if(n&&(p=(n=n[0]).toLowerCase(),this.protocol=p,o=o.substr(n.length)),(t||n||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(y="//"===o.substr(0,2))||n&&E[n]||(o=o.substr(2),this.slashes=!0)),!E[n]&&(y||n&&!O[n])){for(var r=-1,c=0;c<P.length;c++)-1!==(s=o.indexOf(P[c]))&&(-1===r||s<r)&&(r=s);-1!==(e=-1===r?o.lastIndexOf("@"):o.lastIndexOf("@",r))&&(i=o.slice(0,e),o=o.slice(e+1),this.auth=decodeURIComponent(i));for(var s,r=-1,c=0;c<S.length;c++)-1!==(s=o.indexOf(S[c]))&&(-1===r||s<r)&&(r=s);-1===r&&(r=o.length),this.host=o.slice(0,r),o=o.slice(r),this.parseHost(),this.hostname=this.hostname||"";t="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!t)for(var h=this.hostname.split(/\./),c=0,f=h.length;c<f;c++){var a=h[c];if(a&&!a.match(N)){for(var d="",g=0,m=a.length;g<m;g++)127<a.charCodeAt(g)?d+="x":d+=a[g];if(!d.match(N)){var k=h.slice(0,c),_=h.slice(c+1),b=a.match(U);b&&(k.push(b[1]),_.unshift(b[2])),_.length&&(o="/"+_.join(".")+o),this.hostname=k.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),t||(this.hostname=C.toASCII(this.hostname));var v=this.port?":"+this.port:"",y=this.hostname||"";this.host=y+v,this.href+=this.host,t&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!L[p])for(c=0,f=j.length;c<f;c++){var w,l=j[c];-1!==o.indexOf(l)&&((w=encodeURIComponent(l))===l&&(w=escape(l)),o=o.split(l).join(w))}n=o.indexOf("#"),-1!==n&&(this.hash=o.substr(n),o=o.slice(0,n)),e=o.indexOf("?");return-1!==e?(this.search=o.substr(e),this.query=o.substr(e+1),u&&(this.query=A.parse(this.query)),o=o.slice(0,e)):u&&(this.search="",this.query={}),o&&(this.pathname=o),O[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(v=this.pathname||"",i=this.search||"",this.path=v+i),this.href=this.format(),this},y.prototype.format=function(){var e=this.auth||"",t=(e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@"),this.protocol||""),n=this.pathname||"",i=this.hash||"",o=!1,r="",e=(this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&x.isObject(this.query)&&Object.keys(this.query).length&&(r=A.stringify(this.query)),this.search||r&&"?"+r||"");return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||O[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o=o||"",i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(e=e.replace("#","%23"))+i},y.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},y.prototype.resolveObject=function(e){x.isString(e)&&((i=new y).parse(e,!1,!0),e=i);for(var t=new y,u=Object.keys(this),p=0;p<u.length;p++){var h=u[p];t[h]=this[h]}if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(var f=Object.keys(e),d=0;d<f.length;d++){var g=f[d];"protocol"!==g&&(t[g]=e[g])}return O[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!O[e.protocol]){for(var m=Object.keys(e),k=0;k<m.length;k++){var _=m[k];t[_]=e[_]}return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||E[e.protocol])t.pathname=e.pathname;else{for(var n=(e.pathname||"").split("/");n.length&&!(e.host=n.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),t.pathname=n.join("/")}return t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,(t.pathname||t.search)&&(i=t.pathname||"",o=t.search||"",t.path=i+o),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var i=t.pathname&&"/"===t.pathname.charAt(0),o=e.host||e.pathname&&"/"===e.pathname.charAt(0),i=o||i||t.host&&e.pathname,b=i,r=t.pathname&&t.pathname.split("/")||[],n=e.pathname&&e.pathname.split("/")||[],v=t.protocol&&!O[t.protocol];if(v&&(t.hostname="",t.port=null,t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host=null),i=i&&(""===n[0]||""===r[0])),o)t.host=(e.host||""===e.host?e:t).host,t.hostname=(e.hostname||""===e.hostname?e:t).hostname,t.search=e.search,t.query=e.query,r=n;else if(n.length)(r=r||[]).pop(),r=r.concat(n),t.search=e.search,t.query=e.query;else if(!x.isNullOrUndefined(e.search))return v&&(t.hostname=t.host=r.shift(),(l=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=l.shift(),t.host=t.hostname=l.shift())),t.search=e.search,t.query=e.query,x.isNull(t.pathname)&&x.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.href=t.format(),t;if(!r.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var c=r.slice(-1)[0],o=(t.host||e.host||1<r.length)&&("."===c||".."===c)||""===c,s=0,a=r.length;0<=a;a--)"."===(c=r[a])?r.splice(a,1):".."===c?(r.splice(a,1),s++):s&&(r.splice(a,1),s--);if(!i&&!b)for(;s--;)r.unshift("..");!i||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift(""),o&&"/"!==r.join("/").substr(-1)&&r.push("");var l,b=""===r[0]||r[0]&&"/"===r[0].charAt(0);return v&&(t.hostname=t.host=!b&&r.length?r.shift():"",(l=!!(t.host&&0<t.host.indexOf("@"))&&t.host.split("@"))&&(t.auth=l.shift(),t.host=t.hostname=l.shift())),(i=i||t.host&&r.length)&&!b&&r.unshift(""),r.length?t.pathname=r.join("/"):(t.pathname=null,t.path=null),x.isNull(t.pathname)&&x.isNull(t.search)||(t.path=(t.pathname||"")+(t.search||"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},y.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":25,punycode:20,querystring:23}],25:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],26:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e("../helpers/events"),r=o.onPresent,c=o.onUrlContains,o=e("../helpers/tracking"),s=o.trackId,a=o.trackStructured;n.trackAdImpressions=function(){[s("ad-text-result"),s("product-ad"),s("product-ad-link")].forEach(function(e){r(e,function(){var e="object"===i(window.ecosia)?"old_stack":"new_stack";a("serp","impression","ad",e)},{onceOnly:!1})})},n.trackAdCountPerSearch=function(){c("/search",function(){var e="object"===i(window.ecosia)?"old_stack":"new_stack",t=[s("ad-text-result"),s("product-ad"),s("product-ad-link")].join(", "),t=document.querySelectorAll(t);a("serp","impression-count","ad",e,t.length)})}},{"../helpers/events":10,"../helpers/tracking":15}],27:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,i=e("../helpers/events"),c=i.on,s=i.onPresent,a=e("../helpers/url").getQuery;n.trackSearchBusinessListings=function(){s(o("business-listing"),function(e){r("business_listing","display","entity",a(e.url).q)}),c(o("business-listing-source"),"click",function(e,t,n){r("business_listing","click","source",n.href||"")}),c(o("business-listing-directions"),"click",function(e,t,n){r("business_listing","click","directions",n.href||"")}),c(o("business-listing-website"),"click",function(e,t,n){r("business_listing","click","website",n.href||"")}),c(o("business-listing-phone"),"click",function(e,t,n){r("business_listing","click","phone",n.href||"")}),c(o("business-listing-description-more"),"click",function(e,t,n){r("business_listing","click","description_more",n.href||"")}),c(o("business-listing-review-more"),"click",function(e,t,n){r("business_listing","click","review_more",n.href||"")}),c(o("business-listing-reviews","click",function(e,t,n){r("business_listing","click","reviews",n.href||"")}))}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],28:[function(e,t,n){"use strict";var i=e("../helpers/tracking").trackStructured,o=e("../helpers/events"),r=o.onPresent,c=o.onEvent,s=e("../helpers/url").getQuery;n.trackCaptchaView=function(){r(".g-recaptcha",function(e){e=s(e.url);i("security","pageview","captcha",e.q)})},n.trackCaptchaSuccess=function(){c("captcha_success",function(){i("security","success","captcha")})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],29:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,i=e("../helpers/events"),c=i.on,s=i.onEvent;n.trackExtensionPages=function(){c(o("firstrun_cta_search"),"click",function(e){r("extension_pages","click","cta_search","firstrun","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),s(o("firstrun_cta_newtab"),function(e){r("extension_pages","submit","cta_newtab","firstrun","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),c(o("uninstall_cta_reinstall"),"click",function(e){r("extension_pages","click","cta_reinstall","uninstall","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}},{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg}])})}},{"../helpers/events":10,"../helpers/tracking":15}],30:[function(e,t,n){"use strict";var i=e("../helpers/tracking").trackStructured,o=e("../helpers/events").on,r=e("../helpers/url").getQuery;n.trackFlightWidget=function(){o(".bpk-button","click",function(e){i("flight-widget-button","click",r(e.url).q,"search")})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],31:[function(e,t,n){"use strict";var i=e("../helpers/events").onUrlContains,o=e("../helpers/url").getQuery,r=e("../helpers/tracking"),c=r.trackStructured,s=r.trackSelfDescribing,a=e("url");n.trackGCAInstalls=function(){i("gca.ecosia.org/survey-completed",function(e){e=JSON.stringify(o(e.url));c("gca_prototype","survey",e)}),i("gca.ecosia.org/to-homepage",function(e){e=JSON.stringify(o(e.url));c("gca_prototype","survey",e)}),i("gca.ecosia.org/uninstall",function(e){c("gca_prototype","uninstall","chrome_extension");e=a.parse(e.url,!0).utm_term;s({schema:"iglu:org.ecosia/gca_event/jsonschema/3-0-0",data:{action:"uninstall",property:"extension",extension_version:e,value:null,page_url:null,screen_type:null,screen_index:null,content_type:null,product_id:null,intent:null,intent_model_version:null}})})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16,url:24}],32:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,c=e("../helpers/events").on,s=e("../helpers/url").getQuery;n.trackHotelPopUp=function(){c(o("hotel-popup-link"),"click",function(e){r("hotel-popup-link","click",s(e.url).q)})},n.trackHotelDropdown=function(){c(o("more-ecosia-hotels-link"),"click",function(e){r("more-ecosia-hotels-link","click",s(e.url).q)})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],33:[function(e,u,t){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var n=e("../helpers/tracking"),r=n.trackId,c=n.trackStructured,n=e("../helpers/events"),s=n.on,a=n.onUrlContains,l=n.onEvent,p=e("../helpers/url").getQuery;t.trackNotificationDismiss=function(){l("images_infinitescroll_page_loaded",function(e,t){c("images","scroll",p(e.url).q,"images",t.page)})},t.trackSourceSiteLinks=function(){s(r("images-thumbnail-title-link"),"click",function(e,t,n){c("images","click","source-site-link",n.href)}),s(r("images-preview-title-link"),"click",function(e,t,n){c("images","click","source-site-link",n.href)})},t.trackFullImageLinks=function(){s(r("images-preview-image-link"),"click",function(e,t,n){c("images","click","full-image-link",n.href)}),s(r("images-preview-viewfile"),"click",function(e,t,n){c("images","click","full-image-link",n.href)})},t.trackImagesPreviewNavigation=function(){["previous","next"].forEach(function(i){s(r("images-preview-".concat(i)),"click",function(e,t,n){c("images","click","preview-".concat(i),n.href)})})},t.trackImageFilters=function(){s(r("filter-option"),"click",function(e,t,n){a(".ecosia.org/images",".ecosia.org/imagez",function(){var e,t=n.dataset.trackFilter;t&&(e=(t=i(t.split(":"),2))[0],t=t[1],c("images","click","filter-".concat(e),t))})})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],34:[function(e,u,t){"use strict";var n=e("../helpers/tracking"),i=n.trackId,o=n.trackStructured,n=e("../helpers/events"),r=n.on,c=n.onPresent,s=n.onIndexPage,a=n.onEvent,l=n.onScrollTo;t.trackIndexCTAImp=function(){s(function(){c(".install-popup",function(){"none"!==document.querySelector(".install-popup").style.display&&window.snowplow_ecosia("trackStructEvent","install_cta","display","main_header_popup","index")})})},t.trackIndexPage=function(){s(function(){r(i("ecosia-logo"),"click",function(e,t,n){o("ecosia-logo","click",n.href,"index")}),r(i("index-info-discover-project"),"click",function(e,t,n){o("index-info-discover-project","click",n.href,"index")}),r(i("burger-menu"),"click",function(){o("burger-menu","click","main","index")}),r(i("menu"),"click",function(){o("menu","click","main","index")}),r(i("install_popup_close"),"click",function(){o("install_popup_close","click","index")}),r(i("personal-counter"),"click",function(){o("personal_counter","click","main","index")}),a("personal-counter-content",function(){o("personal_counter","display","personal_counter_content","index")}),r(i("personal-counter-share"),"click",function(){o("personal_counter","click","share","index")}),r(i("personal-counter-learn-more"),"click",function(){o("personal_counter","click","learn","index")}),r(i("scroll"),"click",function(){o("scroll_link","click","info","index")}),r(i("video"),"click",function(e){o("video","start","engagement","index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),r(i("claim","startsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("claim_","");o("claim_link","click",n,"index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),r(i("mobile-badge","endsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("-mobile-badge","");o("mobile_store","click",n,"index")}),r(i("share_cta","endsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("share_cta_","");o("share_cta","click",n,"index")}),r(i("install_cta","endsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("cta_","");o("install_cta","click",n,"index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),r(i("social","startsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("social_","");o("social_link","click",n,"index","footer")}),r(i("footer"),"click",function(e,t,n){o("footer_link","click",n.href,"index")});["scroll_to_how_it_works","scroll_to_info","scroll_to_map_projects","scroll_to_video","scroll_to_video_fallback","scroll_to_claims_cards","scroll_to_testimonial"].forEach(function(e){l(i(e),function(e,t){e&&t&&(t=t.dataset.trackId.replace("scroll_to_",""),o("scroll_to","scroll",t,"index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}]))})})})},t.trackIndexAllDisplayCTA=function(){s(function(){["bottom_install_cta","above_fold_install_cta"].forEach(function(e){l(i(e),function(e,t){e&&t&&(e=t.dataset.trackId.replace("cta_",""),o("install_cta","display",e,"index"))})})})}},{"../helpers/events":10,"../helpers/tracking":15}],35:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,i=e("../helpers/events"),c=i.on,s=i.onPresent,a=e("../helpers/url").getQuery;n.trackJobsWidget=function(){s(o("joblift-widget"),function(e){r("joblift_widget","display","serp",a(e.url).q)}),c(o("joblift-widget"),"click",function(e){r("joblift_widget","click","serp",a(e.url).q)})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],36:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,i=e("../helpers/events"),c=i.on,s=i.onEvent,a=i.onPresent;n.trackLoginBeta=function(){a(o("login-beta-login"),function(){r("login_beta","display","login")}),c(o("login-beta-login-learn-more"),"click",function(){r("login_beta","click","login","learn_more")}),s("login-beta-login-send",function(){r("login_beta","submit","login","send")}),a(o("login-beta-confirm"),function(){r("login_beta","display","confirm")}),c(o("login-beta-confirm-send-again"),"click",function(){r("login_beta","click","confirm","send_again")}),a(o("login-beta-error-page"),function(){r("login_beta","display","error-page")}),c(o("login-beta-error-page-try-again"),"click",function(){r("login_beta","click","error-page","try_again")}),c(o("login-beta-error-page-learn-more"),"click",function(){r("login_beta","click","error-page","learn_more")}),s("personal-counter-content--loggedout",function(){r("login_beta","display","personal_counter_content","logged_out")}),c(o("personal-counter-content-learn-more--loggedout"),"click",function(){r("login_beta","click","learn_more","logged_out")}),c(o("personal-counter-content-feedback--loggedout"),"click",function(){r("login_beta","click","feedback","logged_out")}),s("personal-counter-content--loggedin",function(){r("login_beta","display","personal_counter_content","logged_in")}),c(o("personal-counter-content-learn-more--loggedin"),"click",function(){r("login_beta","click","learn_more","logged_in")}),c(o("personal-counter-content-feedback--loggedin"),"click",function(){r("login_beta","click","feedback","logged_in")}),c(o("personal-counter-content-signin"),"click",function(){r("login_beta","click","sign_in","personal_counter_content_signin")}),c(o("personal-counter-pill"),"click",function(){r("login_beta","click","tree_counter_pill","personal_counter")})}},{"../helpers/events":10,"../helpers/tracking":15}],37:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,i=e("../helpers/events"),c=i.on,s=i.onUrlContains,a=e("../helpers/url").getQuery;n.trackMapVertical=function(){c(o("maps_directions_snippet"),"click",function(e){r("map_snippet","click","directions",a(e.url).q)}),c(o("maps_map_snippet"),"click",function(e){r("map_snippet","click","map",a(e.url).q)}),c(o("entity_map"),"click",function(e){r("map_entity_map","click","map",a(e.url).q)}),s("/map",function(e){r("map_vertical","impression","main",a(e.url).q),c(o("maps_directions"),"click",function(){r("map_vertical","click","directions",a(e.url).q)}),c(o("maps_navigation_back"),"click",function(){r("map_vertical","click","maps_navigation_back",a(e.url).q)})})}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],38:[function(e,t,n){"use strict";function i(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e,t){e=c(e.url).q,t=[{schema:"iglu:org.ecosia/map_vertical_context/jsonschema/3-0-0",data:{business_id:t.business_id,business_category:t.business_category,index:t.index,business_label:t.business_label,locality:t.locality,query:e}}];switch(n.length){case 3:n.push("","0");break;case 4:n.push("0")}o.apply(void 0,n.concat([t]))}}var o=e("../helpers/tracking").trackStructured,r=e("../helpers/events").onEvent,c=e("../helpers/url").getQuery;n.trackMapsVertical=function(){r("maps-categories-list",i("maps-business_listings","display","maps_categories_list")),r("maps-places-list",i("maps-business_listings","display","maps_places_list")),r("maps-categories-list-item",i("maps-business_listings","click","maps_categories_list")),r("maps-places-list-item",i("maps-business_listings","click","maps_places_list")),r("maps-map-place",i("maps-business_listings","click","maps_places_map")),r("maps-place-page",i("maps-place_page","display","")),r("maps-place-page-directions",i("maps-place_page","click","directions")),r("maps-place-page-images",i("maps-place_page","click","images","pages")),r("maps-place-page-reviews",i("maps-place_page","click","reviews","pages")),r("maps-place-page-schedules",i("maps-place_page","click","schedules","pages")),r("maps-place-page-website",i("maps-place_page","click","website","pages")),r("maps-place-page-telephone",i("maps-place_page","click","telephone","pages"))}},{"../helpers/events":10,"../helpers/tracking":15,"../helpers/url":16}],39:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,c=i.enableFormTracking,i=e("../helpers/events"),s=i.on,a=i.onIndexPage;n.trackIndexPage=function(){a(function(){c({forms:{blacklist:["search-form"]}}),s(o("tree_planting_project_link"),"click",function(e,t,n){r("tree_planting_project","click",n.href,"index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),s(o("map_discover_projects_link"),"click",function(e,t,n){r("map_discover_projects","click",n.href,"index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])}),s(o("financial_reports_link"),"click",function(e,t,n){r("financial_reports","click",n.href,"index","0",[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])})})}},{"../helpers/events":10,"../helpers/tracking":15}],40:[function(e,u,t){"use strict";var n=e("../helpers/tracking"),i=n.trackId,o=n.trackStructured,n=e("../helpers/events"),r=n.on,c=n.onPresent,s=n.onEvent,a=n.onNewTab,l=n.onExtension;t.trackNewTab=function(){c(i("new-tab-present"),function(){o("new_tab","display")}),r(i("new-tab-bookmark-banner-learn"),"click",function(){o("new_tab","click","bookmark_banner","learn")}),r(i("new-tab-bookmark-banner-close"),"click",function(){o("new_tab","click","bookmark_banner","dismiss")}),r(i("new-tab-search-bar-magnifier"),"click",function(){o("new_tab","click","search_bar","magnifier")}),s("new-tab-search-bar-enter",function(){o("new_tab","enter","search_bar")}),r(i("new-tab-top-sites-click"),"click",function(){o("new_tab","click","top_sites","click")}),r(i("new-tab-top-sites-delete"),"click",function(){o("new_tab","click","top_sites","delete")}),c(i("new-tab-promo_","startsWith"),function(e,t){t=t.dataset.trackId.replace("new-tab-promo_","");o("new_tab","display",t,"promo")}),r(i("new-tab-promo-cta","startsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("new-tab-promo-cta_","");o("new_tab","click",n,"promo")}),r(i("new-tab-promo-dismiss","startsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("new-tab-promo-dismiss_","");o("new_tab","dismiss",n,"promo")}),a(function(){r(i("ecosia-logo"),"click",function(e,t,n){o("ecosia-logo","click",n.href,"new_tab")}),r(i("burger-menu"),"click",function(){o("burger-menu","click","main","new_tab")}),s("new-tab-shopping-toggle-changed",function(e,t){o("shopping_hints_extension","click","shopping_hints_toggle",t.status,0)}),s("new-tab-shopping-intro-display",function(){o("shopping_hints_extension","display","shopping_hints_intro_tooltip","",0)}),s("new-tab-shopping-intro-how-it-works",function(){o("shopping_hints_extension","click","shopping_hints_intro_tooltip","how_it_works",0)}),s("new-tab-shopping-intro-maybe-later",function(){o("shopping_hints_extension","click","shopping_hints_intro_tooltip","maybe_later",0)}),s("new-tab-shopping-intro-dismiss",function(){o("shopping_hints_extension","click","shopping_hints_intro_tooltip","dismiss",0)}),s("new-tab-shopping-display-slide",function(e,t){o("shopping_hints_extension","display","shopping_hints_onboarding",t.title,t.slideNumber)}),s("new-tab-shopping-onboarding-dismiss",function(){o("shopping_hints_extension","click","shopping_hints_onboarding","dismiss",0)}),s("new-tab-shopping-onboarding-finish",function(){o("shopping_hints_extension","click","shopping_hints_onboarding","finish",4)}),s("new-tab-shopping-permissions",function(e,t){o("shopping_hints_extension",t.status,"shopping_hints_permissions","","")}),s("new-tab-shopping-info-tooltip-display",function(e,t){o("shopping_hints_extension","display","shopping_hints_tooltip_".concat(t.status),"",0)}),s("new-tab-shopping-info-tooltip-button",function(e,t){o("shopping_hints_extension","click","shopping_hints_tooltip_".concat(t.status),t.button,0)})}),l(function(){s("shopping-hints-popup-display",function(e,t){var n=t.value||0;o("shopping_hints_extension","display","shopping_extension_popup",t.originUrl,n)}),s("shopping-hints-popup-browse",function(e,t){o("shopping_hints_extension","click","shopping_extension_popup",t.resultsUrl,0)}),s("shopping-hints-popup-close",function(){o("shopping_hints_extension","click","shopping_extension_popup","dismiss",0)})})}},{"../helpers/events":10,"../helpers/tracking":15}],41:[function(e,t,n){"use strict";var i=e("../helpers/tracking").trackStructured,o=e("../helpers/events").onEvent;n.trackNotificationImpression=function(){o("all_notification_impression",function(e,t){i("notification_tracking","impression",t.origin,t.trackingname,t.level)})},n.trackNotificationClick=function(){o("all_notification_click",function(e,t){i("notification_tracking","click",t.origin,t.trackingname,t.level)})},n.trackNotificationCenterOpen=function(){o("all_notification_toggleNotificationCenter",function(e,t){i("notification_tracking","toggleNotificationCenter",t.origin,t.trackingname,t.level)})},n.trackNotificationDismiss=function(){o("all_notification_dismiss",function(e,t){i("notification_tracking","dismiss",t.origin,t.trackingname,t.level)})}},{"../helpers/events":10,"../helpers/tracking":15}],42:[function(e,t,n){"use strict";var i=e("../helpers/tracking").trackStructured,o=e("../helpers/events").onEvent;n.trackPrivacyChoiceTest=function(){o("search_pct_impression",function(){i("privacy_choice_test","impression","serp","pct_popup")}),o("search_pct_open",function(){i("privacy_choice_test","click","serp","pct_popup")}),o("search_pct_activation",function(){i("privacy_choice_test","activate","serp","pct_modal")}),o("search_pct_nothanks",function(){i("privacy_choice_test","nothanks","serp","pct_modal")}),o("search_pct_dismiss",function(){i("privacy_choice_test","dismiss","serp","pct_modal")}),o("search_pct_opt_out",function(e,t){i("privacy_choice_test","optout","settings","pct_setting",t.optInDuration)})}},{"../helpers/events":10,"../helpers/tracking":15}],43:[function(e,t,n){"use strict";var i=e("../helpers/tracking").trackStructured,e=e("../helpers/events"),o=e.on,r=e.onUrlContains,c=e.onEvent;n.trackFaqPrivacyClicks=function(){r(".ecosia.org/privacy",function(){c("privacy_faq_click",function(e,t){i("privacy_page","click",t.position)})})},n.trackReadMoreClick=function(){r(".ecosia.org/privacy",function(){o(".js-read-more","click",function(){i("privacy","click","read_more_button")})})},n.trackPrivacyPageView=function(){r("https://info.ecosia.org/privacy",function(){i("infopages","pageview","privacy")})}},{"../helpers/events":10,"../helpers/tracking":15}],44:[function(e,t,n){"use strict";var i=e("../helpers/tracking").trackStructured,e=e("../helpers/events"),o=e.on,r=e.onUrlContains;n.trackReactivationView=function(){r("https://info.ecosia.org/firefox-reactivation",function(){i("firefox_reactivation","impression")})},n.trackReactivationLearnMore=function(){o(".callout-link","click",function(e){e.url&&-1!==e.url.indexOf("firefox-reactivation")&&i("firefox_reactivation","click","learn_more")})},n.trackReactivationDismiss=function(){o(".reactivation-dismiss","click",function(){i("firefox_reactivation","click","dismiss")})}},{"../helpers/events":10,"../helpers/tracking":15}],45:[function(e,u,t){"use strict";function i(e,t,n){var i=n.dataset.trackId.replace(/-result|-link/,""),o={url:null,title:n.dataset.title,page_position:n.dataset.position,rank:g(n.dataset.rank),vertical:"web",query:s(t.url).q,result_type:i},i=(n.dataset.ext&&(o.list_ad_extensions=n.dataset.ext),"organic"===i?(o.url=n.dataset.url,o.result_label=n.dataset.highlightedDomain||n.dataset.domainLabel):"ad-text"===i&&(o.url=n.dataset.displayUrl.replace("%3cb%3e","").replace("%3c/b%3e","")),d());f({schema:e,data:o},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:t.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:t.abExperiments}},{schema:"iglu:org.ecosia/ecrq_context/jsonschema/1-0-0",data:i?{request_id:i}:null}].filter(function(e){return null!==e.data}))}var n=e("../helpers/events"),o=n.on,r=n.onUrlContains,p=n.onScrollTo,c=n.onEvent,h=n.onPresent,s=e("../helpers/url").getQuery,n=e("../helpers/tracking"),a=n.trackId,l=n.trackStructured,f=n.trackSelfDescribing,d=e("../helpers/cookies").getSearchRequestId,g=e("../helpers/numbers").safeParseInt;t.trackResultEngagement=function(){r("/search",function(){[a("-result","endsWith"),a("product-ad"),a("product-ad-link")].forEach(function(e){o(e,"click",function(e,t,n){i("iglu:org.ecosia/result_click_event/jsonschema/1-0-2",e,n)})}),[a("product-ad"),a("product-ad-link"),a("ad-text-result")].forEach(function(e){h(e,function(e,t){i("iglu:org.ecosia/result_impression_event/jsonschema/1-0-2",e,t)},{onceOnly:!1})})})},t.trackDomainLabels=function(){c("domain_label",function(e,t){["green-domain","coal-domain"].includes(t)&&l(t,"click","learn_more")})},t.trackRichContentImpression=function(){c("rich_content_impression",function(e,t){var n=t.name,i=t.page,t=t.type;"string"==typeof n&&"string"==typeof i&&["widget","entity","rich"].includes(t)&&l("".concat(n,"_").concat(t),"display","".concat(i,"_page"),"",0,[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])})},t.trackFirstSearchAfterInstall=function(){c("first_search_after_install",function(e,t){f({schema:"iglu:org.ecosia/first_search_after_install/jsonschema/2-0-0",data:{position:t.position,addon:t.addon,addonversion:t.addonversion}},[{schema:"iglu:org.ecosia/ecfg_context/jsonschema/1-0-2",data:e.ecfg},{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}}])})},t.trackClimateAction=function(){o(a("entity_climate"),"click",function(e,t,n){n=n.href||"";l("entity_climate","click",n)})},t.trackClimateLearn=function(){o(a("entity_climate_learn"),"click",function(e,t,n){n=n.href||"";l("entity_climate_learn","click",n)})},t.trackCoronaWidgetLinks=function(){o(a("corona-widget-link"),"click",function(e,t,n){n=n.href||"";l("corona-click","click",n)})},t.trackScrollToSerpBottom=function(){r(".ecosia.org/search",function(e){p(".small-footer",function(){window.snowplow_ecosia("trackStructEvent","scroll_to","scroll","page_bottom","serp",0,[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}},{schema:"iglu:org.ecosia/slottings_context/jsonschema/1-0-0",data:{slottings:e.slottings}}])})})},t.trackAlternativeEngines=function(){["google","bing"].forEach(function(t){o(a("alternative-engine-".concat(t)),"click",function(e){window.snowplow_ecosia("trackStructEvent","alternative-engine-".concat(t),"click","serp",s(e.url).q,0,[{schema:"iglu:org.ecosia/abtest_context/jsonschema/1-0-1",data:{ab_tests:e.abExperiments}},{schema:"iglu:org.ecosia/slottings_context/jsonschema/1-0-0",data:{slottings:e.slottings}}])})}),o(a("alternative-engine-learn-more"),"click",function(){l("alternative-engine","click","serp","learn-more")})},t.trackAdExtensionAction=function(){o(a("ad-extension-action"),"click",function(e,t,n){n=n.href||"";l("ad-extension-action","click",n)})}},{"../helpers/cookies":9,"../helpers/events":10,"../helpers/numbers":12,"../helpers/tracking":15,"../helpers/url":16}],46:[function(e,t,n){"use strict";function i(m){return function(u,e){var t=m(e),n=t.action,i=t.label,o=t.property,t=t.value,r=e.display_order,c=e.extra_providers,s=e.filters,a=e.green_products_categories,l=e.page,p=e.provider,h=e.query,f=e.result_categories,d=e.result_count,g=e.result_sorting,e=e.sustainability_label_products;k("shopping_ve",n,i,o,t,[{schema:"iglu:org.ecosia/shopping_vertical_context/jsonschema/1-0-7",data:{display_order:r,extra_providers:c,filters:s,green_products_categories:a,page:l,provider:p,query:h,result_categories:f,result_count:d,result_sorting:g,sustainability_label_products:e}}])}}var o=e("../helpers/events").on,r=e("../helpers/tracking"),c=r.trackId,k=r.trackStructured,s=e("../helpers/events").onEvent;n.trackShoppingVertical=function(){s("shopping-impression",i(function(e){var t=e.property;return{action:"impression",label:e.label,property:t,value:0}})),s("shopping-result-click",i(function(e){return{action:"click",label:"result",property:e.property,value:e.value}})),s("shopping-filter-click",i(function(e){return{action:"click",label:"filter",property:e.property,value:0}})),s("shopping-filter-more-less-click",i(function(e){return{action:"click",label:e.label,property:e.property,value:0}})),s("shopping-pagination-click",i(function(e){return{action:"click",label:"pagination",property:"",value:e.value}})),s("shopping-error-retry",i(function(){return{action:"click",label:"reload",property:"",value:0}})),s("shopping-no-results-clear",i(function(){return{action:"click",label:"clear_filters",property:"",value:0}})),s("shopping-sort",i(function(e){return{action:"click",label:"sort_by_dropdown",property:e.property,value:0}})),s("shopping-onboarding-popup",i(function(){return{action:"impression",label:"onboarding_popup",property:"",value:0}})),s("shopping-onboarding-dismiss",i(function(){return{action:"dismiss",label:"onboarding_popup",property:"",value:0}})),s("shopping-onboarding-close-and-browse",i(function(){return{action:"click",label:"onboarding_popup",property:"close_and_start_browsing",value:0}})),s("shopping-onboarding-close-outside-dialog",i(function(){return{action:"dismiss",label:"onboarding_popup",property:"",value:0}})),s("shopping-onboarding-how-it-works",i(function(){return{action:"click",label:"results_page",property:"how_does_it_work",value:0}}))},n.trackShoppingFunnelClicks=function(){o(c("product-ads-shopping"),"click",function(e,t,n){n=n.href||"";k("shopping_ve_link","click",n)}),o(c("product-ads-shopping-tile"),"click",function(){k("product_ads","click","shopping_tile","")}),o(c("product-ads-shopping-button"),"click",function(){k("product_ads","click","shopping_button","")})}},{"../helpers/events":10,"../helpers/tracking":15}],47:[function(e,t,n){"use strict";var i=e("../helpers/tracking"),o=i.trackId,r=i.trackStructured,i=e("../helpers/events"),c=i.on,s=i.onUrlContains;n.trackWeatherWidget=function(){c(o("weather-daily"),"click",function(){r("daily","click","weather_widget")}),c(o("weather-hourly"),"click",function(){r("hourly","click","weather_widget")}),c(o("weather-weekly"),"click",function(){r("weekly","click","weather_widget")}),c(o("weather-day","startsWith"),"click",function(e,t,n){n=n.dataset.trackId.replace("weather-day_","");r("day_select","click","weather_widget",n)})},n.trackWeatherSerpClicks=function(){s(".ecosia.org/search",function(e){e.weatherLocation&&c(".js-result","click",function(){r("serp","result_click","weather")})})}},{"../helpers/events":10,"../helpers/tracking":15}]},{},[17]);
